(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8a23750"],{"0b12":function(t,e,o){},"11aa":function(t,e,o){t.exports=o.p+"img/back.9c1cd49b.jpg"},"39d6":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-progress",{attrs:{value:t.value,max:t.max,id:"progress",animated:"",height:"5px"}})},i=[],n={data:function(){return{value:0,max:1}},methods:{handleScroll:function(){var t=document.documentElement.scrollHeight-document.documentElement.clientHeight,e=document.documentElement.scrollTop;this.$store.commit("scroll",e),this.value=e/t}},mounted:function(){window.addEventListener("scroll",this.handleScroll)}},s=n,r=(o("44a2"),o("2877")),c=Object(r["a"])(s,a,i,!1,null,null,null);e["a"]=c.exports},"40f6":function(t,e,o){},"44a2":function(t,e,o){"use strict";var a=o("0b12"),i=o.n(a);i.a},"711a":function(t,e,o){"use strict";var a=o("a8e3"),i=o.n(a);i.a},"922b":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page_header"),a("progress_bar"),a("b-container",[a("b-row",[a("b-col",{attrs:{md:"8"}},[a("div",{attrs:{id:"page_container"}},[a("br"),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"userBox",on:{click:t.link}},[a("img",{staticClass:"icon",attrs:{src:t.auth.head_portrait,alt:""}}),t._v(" "+t._s(t.auth.username)+" ")])]),a("b-col",{attrs:{cols:"6"}},[t.unFollowing?a("b-button",{attrs:{variant:"success"},on:{click:t.follow}},[t._v("关注")]):t._e(),t.following?a("b-button",{attrs:{variant:"danger"},on:{click:t.unFollow}},[t._v("取关")]):t._e()],1)],1),a("b-row",[a("b-col",[a("h2",[t._v(t._s(t.post.title))]),a("p",[t._v(t._s(t.post.time))])])],1),a("b-row",[a("b-col",{staticClass:"textBox"},[a("p",[t._v(t._s(t.post.content))])])],1),a("b-row",{staticStyle:{margin:"0 5%","border-top":"0.5px ridge lightgray","border-bottom":"0.5px ridge lightgray"}},[a("b-col",{attrs:{col:""}},[a("a",{attrs:{href:"#input_comment"}},[a("div",[a("b-icon",{attrs:{icon:"chat-fill"}}),t._v(" "+t._s(t.comments)+" ")],1)])]),a("b-col",{attrs:{col:""},on:{click:t.clickLike}},[t.unFavourited?a("b-icon",{attrs:{icon:"star"}}):t._e(),t.favourited?a("b-icon",{attrs:{icon:"star-fill"}}):t._e(),t._v(" "+t._s(t.post.liked)+" ")],1),a("b-col",{attrs:{col:""}},[a("b-icon",{attrs:{icon:"eye-fill"}}),t._v(" "+t._s(t.post.view)+" ")],1)],1),t._l(t.items,(function(t,e){return a("floor",{key:e,attrs:{content:t}})})),a("b-row",[a("b-col",[a("div",{attrs:{id:"input_comment"}},[a("h4",[t._v("发表评论")]),a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("br"),a("b-button",{staticStyle:{float:"right",display:"block"},attrs:{variant:"success"},on:{click:t.submit}},[t._v("提交")])],1)])],1)],2)]),a("b-col",{attrs:{md:"4"}},[a("div",{staticClass:"rounded-lg ",attrs:{id:"sider_bar"}},[a("div",{staticClass:"sider"},[a("div",{staticStyle:{width:"100%",height:"100px",overflow:"hidden"}},[a("img",{staticStyle:{width:"100%",overflow:"hidden"},attrs:{src:o("11aa"),alt:""}})]),a("div",{attrs:{id:"icon_box"}},[a("img",{attrs:{src:t.auth.head_portrait,alt:""}})]),a("h2",[t._v(t._s(t.auth.username))]),a("div",{attrs:{id:"site_intro"}},[t._v(" "+t._s(t.auth.comment)+" ")])]),a("br"),a("div",{staticClass:"sider"},[a("h2",[t._v("板块链接")]),a("b-row",{staticStyle:{padding:"0 10px"}},t._l(t.blocks,(function(e,o){return a("b-col",{key:o,staticStyle:{margin:"10px 0"},attrs:{cols:"4"}},[a("div",{on:{click:function(o){return t.blockLink(e.url)}}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.icon,alt:""}}),t._v(" "+t._s(e.name)+" ")])])})),1)],1)])])],1),a("page_footer")],1)],1)},i=[],n=o("cff1"),s=o("cdaa"),r=o("39d6"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",[o("div",{staticClass:"comment"},[o("b-row",[o("b-col",{attrs:{md:"7"}},[o("div",{staticClass:"userBox",on:{click:t.link}},[o("img",{staticClass:"icon",attrs:{src:t.content.user.head_portrait,alt:""}}),t._v(" "+t._s(t.content.user.username)+" ")])]),o("b-col",{attrs:{md:"5"}},[t._v(" "+t._s(t.content.Date)+" ")])],1),o("b-row",{staticClass:"textBox"},[o("p",[t._v(" "+t._s(t.content.content)+" ")])])],1)])],1)},l=[],u={props:{content:{type:Object,default:function(){return{user:{uid:"11",userName:"11",head_portrait:"http://gittub.cc/small2.png",admin_permission:!1,status:!0,comment:"5646465446454"},content:"testtesttest",Date:"2020.7.4",isCanshow:!0,pid:"11"}}}},methods:{link:function(){this.$router.push("/userHome/"+this.content.user.uid)}}},d=u,b=(o("ebfb"),o("2877")),h=Object(b["a"])(d,c,l,!1,null,"7aa0842e",null),f=h.exports,m=o("ac34"),p={data:function(){return{items:[],comments:0,post:{},auth:{uid:"11",userName:"11",password:"2656",head_portrait:"http://gittub.cc/small2.png",admin_permission:!1,status:!0,comment:"5646465446454"},blocks:[],favourited:!1,following:!1,text:""}},mounted:function(){var t=this;Object(m["i"])(this.$route.params.page_id).then((function(e){t.post=e.data,Object(m["p"])(t.$route.params.page_id).then((function(e){t.favourited=e.data})),Object(m["o"])(t.post.uid).then((function(e){t.auth=e.data})),Object(m["c"])(t.$route.params.page_id).then((function(e){t.items=e.data,t.comments=e.data.length,t.comments=t.items.length})),Object(m["q"])(t.post.uid).then((function(e){t.following=e.data}))}));var e=this.$store.getters.getBlocks;if(0!=e.length){for(var o in e)this.blocks.push({name:e[o].blockName,icon:e[o].logo,bid:e[o].bid});for(var a=0;a<this.blocks.length;a++)this.blocks[a].url="/block/"+this.blocks[a].bid}else Object(m["g"])().then((function(e){for(var o in e.data)t.blocks.push({name:o.blockName,icon:o.logo,bid:o.bid}),t.$store.commit("commitBlock",o);for(var a=0;a<t.blocks.length;a++)t.blocks[a]["url"]="/block/"+t.blocks[a].bid}));console.log(12)},computed:{unFollowing:function(){return!this.following},unFavourited:function(){return!this.favourited}},methods:{clickLike:function(t){var e=this;t.preventDefault(),this.favourited?Object(m["d"])(this.$route.params.page_id).then((function(t){t.data.flag&&(e.post.liked--,e.favourited=!e.favourited)})):Object(m["a"])(this.$route.params.page_id).then((function(t){t.data.flag&&(e.post.liked++,e.favourited=!e.favourited)}))},blockLink:function(t){this.$router.push(t)},link:function(){this.$router.push("/userHome/"+this.auth.uid)},submit:function(){var t=this;Object(m["v"])(this.post.pid,this.text).then((function(e){e.data.flag&&(alert("评论成功"),t.$router.go(0))}))},follow:function(){var t=this;this.$store.getters.getId!=this.auth.uid?Object(m["b"])(this.auth.uid).then((function(e){e.data.flag&&(t.following=!0)})):alert("不能关注自己")},unFollow:function(){var t=this;Object(m["e"])(this.auth.uid).then((function(e){e.data.flag&&(t.following=!1)}))}},components:{page_header:n["a"],page_footer:s["a"],progress_bar:r["a"],floor:f}},v=p,_=(o("dca1"),Object(b["a"])(v,a,i,!1,null,"9ca7f794",null));e["default"]=_.exports},a8e3:function(t,e,o){},cdaa:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",[o("b-row",[o("b-col",[t._v(" 备案信息 ")]),o("b-col",[o("b-row",[o("b-col",[t._v("开发人员")])],1),o("b-row",[o("b-col",[o("pre",[t._v("后端 毕展宇")]),o("pre",[t._v("前端 李泽宇")])]),o("b-col",[o("pre",[t._v("架构 贾丁")]),o("pre",[t._v("数据库 徐子介")])])],1)],1)],1)],1)},i=[],n=(o("711a"),o("2877")),s={},r=Object(n["a"])(s,a,i,!1,null,"097a6bd8",null);e["a"]=r.exports},dca1:function(t,e,o){"use strict";var a=o("40f6"),i=o.n(a);i.a},e872:function(t,e,o){},ebfb:function(t,e,o){"use strict";var a=o("e872"),i=o.n(a);i.a}}]);
//# sourceMappingURL=chunk-e8a23750.1235d9a3.js.map